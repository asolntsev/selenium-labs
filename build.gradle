apply plugin: 'java'
apply plugin: 'idea'

defaultTasks 'test'

compileJava {
  options.debugOptions.debugLevel = "source,lines,vars"
  options.deprecation = false
  options.encoding = 'UTF-8'
}

compileTestJava {
  options.encoding = 'UTF-8'
}

repositories {
  jcenter()
}

dependencies {
  testCompileOnly("org.junit.jupiter:junit-jupiter-api:5.6.0")
  testRuntime("org.junit.jupiter:junit-jupiter-engine:5.6.0")
  testImplementation("org.seleniumhq.selenium:selenium-java:3.141.59")
  testImplementation("com.codeborne:selenide:5.7.0")
}

test {
  include 'labs/**/*'
  useJUnitPlatform()
  systemProperties['selenide.headless'] = 'true'
  systemProperties['BUILD_URL'] = System.getenv()['BUILD_URL']
  testLogging {
    outputs.upToDateWhen {false}
    showStandardStreams = true
  }
}